{"version":3,"file":"heatmap.js","sources":["../src/defaultConfig.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../src/colorPalette.js","../src/drawCircles.js","../src/Heatmap.js"],"sourcesContent":["export const defaultConfig = {\r\n  // TODO:\r\n  // data point radius\r\n  radius: 20,\r\n  // color\r\n  color: [\r\n    { stop: 1,\r\n      color: '#F00'\r\n    },\r\n    { stop: 0.75,\r\n      color: 'yellow'\r\n    },\r\n    { stop: 0.55,\r\n      color: '#0F0'\r\n    },\r\n    { stop: 0,\r\n      color: '#00F'\r\n    }\r\n  ]\r\n};\r\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import { scaleLinear } from 'd3-scale/src';\r\n\r\n\r\nfunction getGradientColorScale(colors) {\r\n  const domain = colors.map(color => color.stop);\r\n  const range = colors.map(color => color.color);\r\n  return scaleLinear().domain(domain).range(range);\r\n}\r\n\r\nexport default getGradientColorScale;\r\n","function getCircleImg(data) {\r\n  const r = 15;\r\n  const circleCanvas = document.createElement('canvas');\r\n  const ctx = circleCanvas.getContext('2d');\r\n  circleCanvas.width = 300;\r\n  circleCanvas.height = 300;\r\n\r\n  const circleTpl = drawCircle(15);\r\n  data.forEach(datum => {\r\n    ctx.drawImage(circleTpl, datum.x, datum.y);\r\n  });\r\n\r\n  return circleCanvas;\r\n}\r\n\r\nfunction drawCircle(r) {\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n  canvas.width = 2 * r;\r\n  canvas.height = 2 * r;\r\n\r\n  const gradient = ctx.createRadialGradient(r, r, 0, r, r, r);\r\n  gradient.addColorStop(0, 'rgba(0, 0, 0, 1)');\r\n  gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');\r\n\r\n  ctx.beginPath();\r\n  ctx.arc(r, r, r, 0, 2 * Math.PI);\r\n  ctx.fillStyle = gradient;\r\n  ctx.fill();\r\n\r\n  return canvas;\r\n}\r\n\r\nexport default getCircleImg;\r\n","import { defaultConfig } from './defaultConfig';\r\nimport getGradientColorScale from './colorPalette';\r\nimport getCircleImg from './drawCircles';\r\n\r\nexport class Heatmap {\r\n  constructor(config) {\r\n    this.config = Object.assign({}, config, defaultConfig);\r\n    this.ctx = config.canvas.getContext('2d');\r\n  }\r\n\r\n  setData(data) {\r\n    this.data = data;\r\n  }\r\n\r\n  render() {\r\n    // 1. generate gradient color palette\r\n    this.gradientColorScale = getGradientColorScale(this.config.color);\r\n    // 2. draw transparent circles\r\n    const { data } = this;\r\n    this.circleImg = getCircleImg(data);\r\n    // 3. colorize according to alpha value\r\n    this.colorize();\r\n  }\r\n\r\n  colorize() {\r\n    const { gradientColorScale, circleImg } = this;\r\n    const imgData = circleImg.getContext('2d').getImageData(0, 0, 300, 300);\r\n    const pixelData = imgData.data;\r\n    pixelData.forEach((e, i, arr) => {\r\n      if (i % 4 !== 3 || e === 0) { return; }\r\n      const color = gradientColorScale(e / 255);\r\n      // FIXME: get rid of regexp\r\n      [, arr[i - 3], arr[i - 2], arr[i - 1]] = color.match(/rgb\\((\\d+)\\,\\s?(\\d+)\\,\\s?(\\d+)\\)/);\r\n    });\r\n    this.ctx.putImageData(imgData, 0, 0);\r\n  }\r\n}\r\n"],"names":["defaultConfig","radius","color","stop","a","b","NaN","compare","length","ascendingComparator","left","x","lo","hi","mid","right","f","d","ascending","ascendingBisect","bisector","bisectRight","e10","Math","sqrt","e5","e2","start","count","reverse","i","n","ticks","step","tickIncrement","isFinite","ceil","floor","Array","max","power","log","LN10","error","pow","tickStep","step0","abs","step1","prefix","Map","prototype","map","constructor","has","key","get","set","value","remove","property","clear","keys","push","slice","values","entries","size","empty","each","object","isArray","o","Set","proto","add","array","factory","extend","parent","definition","Object","create","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","displayable","rgb","hex","toString","format","m","trim","toLowerCase","exec","parseInt","Rgb","rgbn","rgba","hsla","hasOwnProperty","r","g","rgbConvert","opacity","arguments","k","isNaN","min","round","h","s","l","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","deg2rad","PI","rad2deg","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","c","sin","rgb2lrgb","y","xyz2lab","z","lab","lab2xyz","lrgb2rgb","t","hclConvert","atan2","hcl","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","linear","exponential","gamma","nogamma","constant","rgbGamma","end","colorRgb","nb","na","Date","setTime","reA","reB","source","zero","one","bi","lastIndex","am","bm","bs","q","index","number","join","string","date","valueOf","degrees","rho","SQRT2","unit","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","domain","range","d0","d1","r0","r1","polymap","j","bisect","copy","target","interpolate","clamp","continuous","interpolateValue","piecewise","output","input","rescale","scale","invert","_","call","rangeRound","interpolateRound","p","toExponential","indexOf","coefficient","formatDecimal","grouping","thousands","width","substring","numerals","replace","re","formatSpecifier","specifier","FormatSpecifier","match","Error","fill","align","sign","symbol","comma","precision","type","out","i0","i1","prefixExponent","exponent","toFixed","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","locale","group","formatGroup","identity","currency","decimal","formatNumerals","percent","newFormat","formatTypes","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","padding","formatPrefix","e","defaultLocale","formatLocale","precisionPrefix","precisionRound","precisionFixed","linearish","tickFormat","nice","newInterval","floori","offseti","field","interval","offset","previous","filter","every","millisecond","milliseconds","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","seconds","minute","getMinutes","minutes","hour","getTimezoneOffset","getHours","hours","day","setHours","setDate","getDate","days","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","month","setMonth","getMonth","getFullYear","months","year","setFullYear","years","utcMinute","setUTCSeconds","getUTCMinutes","utcMinutes","utcHour","setUTCMinutes","getUTCHours","utcHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcDays","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcMonths","utcYear","setUTCFullYear","utcYears","localDate","H","M","S","L","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","newDate","parseSpecifier","week","Q","V","w","timeMonday","timeDay","u","W","U","Z","parse","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","timeYear","getMilliseconds","getSeconds","timeSunday","timeThursday","getUTCMilliseconds","dow","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","getGradientColorScale","colors","scaleLinear","getCircleImg","data","circleCanvas","document","createElement","ctx","getContext","height","circleTpl","drawCircle","forEach","drawImage","datum","canvas","gradient","createRadialGradient","addColorStop","beginPath","arc","fillStyle","Heatmap","config","assign","gradientColorScale","circleImg","colorize","imgData","getImageData","pixelData","arr","putImageData"],"mappings":"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"}